define("suggest@0.2.0",["class@~1.0.0","jquery@~1.9.2"],function(require,exports,module){"use strict";function suggest(input,options){return new Suggest(input,options)}var Class=require("class"),$=require("jquery"),WIN=window,DOC=WIN.document;module.exports=suggest;var Suggest=Class({Implements:"attrs events",initialize:function(input,options){this.input=input=$(input);var self=this;["panel","itemWrapper"].forEach(function(key){self.set(key,options[key]),delete options[key]}),this.set(options),this.selectedIndex=-1,this.cache={},this.close();var item_selector=this.get("itemSelector");this.panel.appendTo(this.get("container")).on({mouseenter:function(){self.preselect($(this))},click:function(){self.select($(this))}},item_selector),$(DOC.body).on("click",function(){self.close()}),this.input.on({click:function(e){e.stopPropagation()},keydown:function(e){self._applyCommand(e)}}),/msie/i.test(navigator.userAgent)&&this.input.on({keypress:function(e){13===e.keyCode&&self._applyCommand(e)}})},preselect:function(li){var active_class=this.get("itemActiveClass");"number"==typeof li&&(li=this.items.eq(li));var data=li.data("data"),index=li.data("index");this.items.removeClass(active_class),li.addClass(active_class),this.selectedIndex=index,this.fire("preselect",{data:data,index:index,keyword:li.data("keyword"),element:li})},select:function(li){"number"==typeof li&&(li=this.items.eq(li)),this.fire("select",{data:li.data("data"),index:li.data("index"),keyword:li.data("keyword"),element:li})},_applyCommand:function(e){if(!this.visible)return!1;var up;switch(e.keyCode){case 37:case 39:break;case 38:up=!0;case 40:e.preventDefault();var index=this.selectedIndex+(up?-1:1);index>-1&&index<this.items.length&&this.preselect(this.items.eq(index));break;case 13:this.select(this.items.eq(this.selectedIndex))}},render:function(keyword,arr){var wrapper=this.wrapper,renderer=this.get("itemRenderer"),use_cache=this.get("cache");if(this.keyword!==keyword||!use_cache){if(use_cache&&(this.keyword=keyword,this.cache[keyword]=arr),arr.length){wrapper.empty();var items=$();arr.forEach(function(data,i){data.index=i,data.keyword=keyword;var item=renderer(data);item.appendTo(wrapper).data({index:i,keyword:keyword,data:data}),items=items.add(item)}),this.items=items,items=null}else this.close();this.selectedIndex=-1,this.fire("render")}},clearCache:function(){for(var key in this.cache)delete this.cache[key]},show:function(){this.panel.css("visibility","visible"),this.visible=!0,this.fire("show")},close:function(){this.panel.css("visibility","hidden"),this.visible=!1,this.fire("close")}},{panel:{setter:function(v){this.panel=v?$(v).eq(0):$('<ul class="suggest-panel">')}},cache:{value:!0},itemSelector:{value:"li"},itemWrapper:{setter:function(v){var wrapper=this.panel.find(v);this.wrapper=wrapper.length?wrapper.eq(0):this.panel}},itemRenderer:{value:function(data){var li=$("<li>");if(data.html)li.html(data.html);else if(data.text){var keyword=data.keyword,text=data.text;keyword&&~text.indexOf(keyword)&&(text=text.replace(new RegExp(keyword,"g"),'<span class="suggest-emphasize">'+keyword+"</span>")),li.html(text)}return li.addClass("suggest-item")},validator:function(v){return"function"==typeof v}},itemActiveClass:{value:"suggest-active"},container:{getter:function(v){return v||document.body}}});suggest.Suggest=Suggest}),define("suggest@0.2.0",["class@~1.0.0","jquery@~1.9.2"],function(require,exports,module){"use strict";function suggest(input,options){return new Suggest(input,options)}var Class=require("class"),$=require("jquery"),WIN=window,DOC=WIN.document;module.exports=suggest;var Suggest=Class({Implements:"attrs events",initialize:function(input,options){this.input=input=$(input);var self=this;["panel","itemWrapper"].forEach(function(key){self.set(key,options[key]),delete options[key]}),this.set(options),this.selectedIndex=-1,this.cache={},this.close();var item_selector=this.get("itemSelector");this.panel.appendTo(this.get("container")).on({mouseenter:function(){self.preselect($(this))},click:function(){self.select($(this))}},item_selector),$(DOC.body).on("click",function(){self.close()}),this.input.on({click:function(e){e.stopPropagation()},keydown:function(e){self._applyCommand(e)}}),/msie/i.test(navigator.userAgent)&&this.input.on({keypress:function(e){13===e.keyCode&&self._applyCommand(e)}})},preselect:function(li){var active_class=this.get("itemActiveClass");"number"==typeof li&&(li=this.items.eq(li));var data=li.data("data"),index=li.data("index");this.items.removeClass(active_class),li.addClass(active_class),this.selectedIndex=index,this.fire("preselect",{data:data,index:index,keyword:li.data("keyword"),element:li})},select:function(li){"number"==typeof li&&(li=this.items.eq(li)),this.fire("select",{data:li.data("data"),index:li.data("index"),keyword:li.data("keyword"),element:li})},_applyCommand:function(e){if(!this.visible)return!1;var up;switch(e.keyCode){case 37:case 39:break;case 38:up=!0;case 40:e.preventDefault();var index=this.selectedIndex+(up?-1:1);index>-1&&index<this.items.length&&this.preselect(this.items.eq(index));break;case 13:this.select(this.items.eq(this.selectedIndex))}},render:function(keyword,arr){var wrapper=this.wrapper,renderer=this.get("itemRenderer"),use_cache=this.get("cache");if(this.keyword!==keyword||!use_cache){if(use_cache&&(this.keyword=keyword,this.cache[keyword]=arr),arr.length){wrapper.empty();var items=$();arr.forEach(function(data,i){data.index=i,data.keyword=keyword;var item=renderer(data);item.appendTo(wrapper).data({index:i,keyword:keyword,data:data}),items=items.add(item)}),this.items=items,items=null}else this.close();this.selectedIndex=-1,this.fire("render")}},clearCache:function(){for(var key in this.cache)delete this.cache[key]},show:function(){this.panel.css("visibility","visible"),this.visible=!0,this.fire("show")},close:function(){this.panel.css("visibility","hidden"),this.visible=!1,this.fire("close")}},{panel:{setter:function(v){this.panel=v?$(v).eq(0):$('<ul class="suggest-panel">')}},cache:{value:!0},itemSelector:{value:"li"},itemWrapper:{setter:function(v){var wrapper=this.panel.find(v);this.wrapper=wrapper.length?wrapper.eq(0):this.panel}},itemRenderer:{value:function(data){var li=$("<li>");if(data.html)li.html(data.html);else if(data.text){var keyword=data.keyword,text=data.text;keyword&&~text.indexOf(keyword)&&(text=text.replace(new RegExp(keyword,"g"),'<span class="suggest-emphasize">'+keyword+"</span>")),li.html(text)}return li.addClass("suggest-item")},validator:function(v){return"function"==typeof v}},itemActiveClass:{value:"suggest-active"},container:{getter:function(v){return v||document.body}}});suggest.Suggest=Suggest}),define("suggest@0.2.0",["class@~1.0.0","jquery@~1.9.2"],function(require,exports,module){"use strict";function suggest(input,options){return new Suggest(input,options)}var Class=require("class"),$=require("jquery"),WIN=window,DOC=WIN.document;module.exports=suggest;var Suggest=Class({Implements:"attrs events",initialize:function(input,options){this.input=input=$(input);var self=this;["panel","itemWrapper"].forEach(function(key){self.set(key,options[key]),delete options[key]}),this.set(options),this.selectedIndex=-1,this.cache={},this.close();var item_selector=this.get("itemSelector");this.panel.appendTo(this.get("container")).on({mouseenter:function(){self.preselect($(this))},click:function(){self.select($(this))}},item_selector),$(DOC.body).on("click",function(){self.close()}),this.input.on({click:function(e){e.stopPropagation()},keydown:function(e){self._applyCommand(e)}}),/msie/i.test(navigator.userAgent)&&this.input.on({keypress:function(e){13===e.keyCode&&self._applyCommand(e)}})},preselect:function(li){var active_class=this.get("itemActiveClass");"number"==typeof li&&(li=this.items.eq(li));var data=li.data("data"),index=li.data("index");this.items.removeClass(active_class),li.addClass(active_class),this.selectedIndex=index,this.fire("preselect",{data:data,index:index,keyword:li.data("keyword"),element:li})},select:function(li){"number"==typeof li&&(li=this.items.eq(li)),this.fire("select",{data:li.data("data"),index:li.data("index"),keyword:li.data("keyword"),element:li})},_applyCommand:function(e){if(!this.visible)return!1;var up;switch(e.keyCode){case 37:case 39:break;case 38:up=!0;case 40:e.preventDefault();var index=this.selectedIndex+(up?-1:1);index>-1&&index<this.items.length&&this.preselect(this.items.eq(index));break;case 13:this.select(this.items.eq(this.selectedIndex))}},render:function(keyword,arr){var wrapper=this.wrapper,renderer=this.get("itemRenderer"),use_cache=this.get("cache");if(this.keyword!==keyword||!use_cache){if(use_cache&&(this.keyword=keyword,this.cache[keyword]=arr),arr.length){wrapper.empty();var items=$();arr.forEach(function(data,i){data.index=i,data.keyword=keyword;var item=renderer(data);item.appendTo(wrapper).data({index:i,keyword:keyword,data:data}),items=items.add(item)}),this.items=items,items=null}else this.close();this.selectedIndex=-1,this.fire("render")}},clearCache:function(){for(var key in this.cache)delete this.cache[key]},show:function(){this.panel.css("visibility","visible"),this.visible=!0,this.fire("show")},close:function(){this.panel.css("visibility","hidden"),this.visible=!1,this.fire("close")}},{panel:{setter:function(v){this.panel=v?$(v).eq(0):$('<ul class="suggest-panel">')}},cache:{value:!0},itemSelector:{value:"li"},itemWrapper:{setter:function(v){var wrapper=this.panel.find(v);this.wrapper=wrapper.length?wrapper.eq(0):this.panel}},itemRenderer:{value:function(data){var li=$("<li>");if(data.html)li.html(data.html);else if(data.text){var keyword=data.keyword,text=data.text;keyword&&~text.indexOf(keyword)&&(text=text.replace(new RegExp(keyword,"g"),'<span class="suggest-emphasize">'+keyword+"</span>")),li.html(text)}return li.addClass("suggest-item")},validator:function(v){return"function"==typeof v}},itemActiveClass:{value:"suggest-active"},container:{getter:function(v){return v||document.body}}});suggest.Suggest=Suggest}),define("suggest@0.2.0",["class@~1.0.0","jquery@~1.9.2"],function(require,exports,module){"use strict";function suggest(input,options){return new Suggest(input,options)}var Class=require("class"),$=require("jquery"),WIN=window,DOC=WIN.document;module.exports=suggest;var Suggest=Class({Implements:"attrs events",initialize:function(input,options){this.input=input=$(input);var self=this;["panel","itemWrapper"].forEach(function(key){self.set(key,options[key]),delete options[key]}),this.set(options),this.selectedIndex=-1,this.cache={},this.close();var item_selector=this.get("itemSelector");this.panel.appendTo(this.get("container")).on({mouseenter:function(){self.preselect($(this))},click:function(){self.select($(this))}},item_selector),$(DOC.body).on("click",function(){self.close()}),this.input.on({click:function(e){e.stopPropagation()},keydown:function(e){self._applyCommand(e)}}),/msie/i.test(navigator.userAgent)&&this.input.on({keypress:function(e){13===e.keyCode&&self._applyCommand(e)}})},preselect:function(li){var active_class=this.get("itemActiveClass");"number"==typeof li&&(li=this.items.eq(li));var data=li.data("data"),index=li.data("index");this.items.removeClass(active_class),li.addClass(active_class),this.selectedIndex=index,this.fire("preselect",{data:data,index:index,keyword:li.data("keyword"),element:li})},select:function(li){"number"==typeof li&&(li=this.items.eq(li)),this.fire("select",{data:li.data("data"),index:li.data("index"),keyword:li.data("keyword"),element:li})},_applyCommand:function(e){if(!this.visible)return!1;var up;switch(e.keyCode){case 37:case 39:break;case 38:up=!0;case 40:e.preventDefault();var index=this.selectedIndex+(up?-1:1);index>-1&&index<this.items.length&&this.preselect(this.items.eq(index));break;case 13:this.select(this.items.eq(this.selectedIndex))}},render:function(keyword,arr){var wrapper=this.wrapper,renderer=this.get("itemRenderer"),use_cache=this.get("cache");if(this.keyword!==keyword||!use_cache){if(use_cache&&(this.keyword=keyword,this.cache[keyword]=arr),arr.length){wrapper.empty();var items=$();arr.forEach(function(data,i){data.index=i,data.keyword=keyword;var item=renderer(data);item.appendTo(wrapper).data({index:i,keyword:keyword,data:data}),items=items.add(item)}),this.items=items,items=null}else this.close();this.selectedIndex=-1,this.fire("render")}},clearCache:function(){for(var key in this.cache)delete this.cache[key]},show:function(){this.panel.css("visibility","visible"),this.visible=!0,this.fire("show")},close:function(){this.panel.css("visibility","hidden"),this.visible=!1,this.fire("close")}},{panel:{setter:function(v){this.panel=v?$(v).eq(0):$('<ul class="suggest-panel">')}},cache:{value:!0},itemSelector:{value:"li"},itemWrapper:{setter:function(v){var wrapper=this.panel.find(v);this.wrapper=wrapper.length?wrapper.eq(0):this.panel}},itemRenderer:{value:function(data){var li=$("<li>");if(data.html)li.html(data.html);else if(data.text){var keyword=data.keyword,text=data.text;keyword&&~text.indexOf(keyword)&&(text=text.replace(new RegExp(keyword,"g"),'<span class="suggest-emphasize">'+keyword+"</span>")),li.html(text)}return li.addClass("suggest-item")},validator:function(v){return"function"==typeof v}},itemActiveClass:{value:"suggest-active"},container:{getter:function(v){return v||document.body}}});suggest.Suggest=Suggest});